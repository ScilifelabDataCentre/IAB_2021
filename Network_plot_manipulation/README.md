## How to use network manipulation scripts

## Basic information required

The scripts and files in this part of the repository are used to generate the network plots that are ultimately produced in VOS viewer. The scripts take in files specially created to work with VOS viewer (by KTH). There are two main types of plot; copublication plots (connection between organisations), and subject plots (showing bubbles of different categories).

'Filter' scripts are used to filter out just the publications of interest (initially used 2013-18, but later used 2015-18 to align with Leiden rankings). The filter files take the raw files from KTH and produce files that can be put into VOS viewer to create a map and network file for each visualisation. Some data processing occurs in VOS viewer (e.g. setting the maximum number of institutions that should be on a given paper, setting the minimum number of copublications for inclusion). Everything needs to be very thoroughly checked to ensure that SciLifeLab (SLL) is not included (standard to exclude organisation in question) and also that institutions are not duplicated (i.e. included as 2 slightly different names). For this, you'll need to use a thesaurus file in VOS itself when you generate the map and network files there (see the data files for examples of these). The thesaurus files (use .txt) can also be used to limit what's in the final visualisation e.g. just restrict to the national institutions. Note that these files also modify the labels of the file so that you can accurately display the MNCS as colouring on the plots (use the overlay visualisations). 

The 'edit' files are used to improve the appearance of the plots. Basically, when you generate the original map, all the labels will be shown in lower case. This does not look good, especially where there are abbreviations. To make sure that everything displays correctly, you should use the 'edit' files here to modify the labels in your map file. Note, you will get an error if you accidentally input the network file instead. The edit file will also modify the MNCS scores to be in the correct format for display.

The names of the files basically show what they were used for. Everything uses affiliate data (as a whole) unless specified otherwise (e.g. fellows in the names suggests that was done for fellows). Int = international (including national), nat= national (excluding international), subbject_connections/phrases indicates that this was used for the cloud of different subjects, not the connectivity maps. UPDATE indicates that the file was updated to meet the latest modification requests.

In VOS viewer, use 'create' maps from bibliometric data to do the copublication plots, select create from text data to do the subject classification plots. Use SLLcolors.txt in VOS viewer overlay visualisations to change the standard colours in VOS to the scilifelab colours.

There are some scripts here that could be used to generate tables indicating the institutions that collaborate most. These were not used in the report, but may be helpful in future.